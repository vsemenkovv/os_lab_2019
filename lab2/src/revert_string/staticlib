gcc -c revert_string.c -o revert_string.o
на выходе имеем файл revert_string.o, содержащий объектный код нашей библиотеки

ar rc libMY_STATIC.a static.o

ar упаковывает несколько (! Это важно. Дело не ограничивается только одним объектным файлом) объектных файлов в одну статическую библиотеку. Статическая библиотека имеет расширение ".a", при этом ее название должно начинаться с "lib" (дань традиции).
Параметры ar:
r - предписывает заменять старые версии объектных файлов новыми - необходим для переупаковки библиотеки;
c - создать статическую библиотеку, если та еще не существует.

ranlib lib_revertstring.a   Проиндексируем функции внутри библиотеки для более быстрой линковки

gcc program1.c libMY_STATIC.a





gcc -fPIC -c dynamic.cpp -o dynamic.o

(используйте gcc для программ на С и Assembler'е)

Здесь:

-fPIC - использовать относительную адресацию в переходах подпрограмм - во избежание конфликтов при динамическом связывании
gcc -shared -olibdynamic.so dynamic.o

libdynamic.so - имя результирующей библиотеки;
-shared - предписывает создать динамическую (т.е. "разделяемую") библиотеку.
